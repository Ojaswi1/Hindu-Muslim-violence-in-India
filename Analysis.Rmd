---
title: "Exploring Hindu Muslim Violence in India"
author: "Ojaswi Malik"
output: github_document
---

## Introduction

### Goal: This report aims to explore the history of violent events between the 2 controversial religions of Hinduism and Islam in the context of post-independant India. Keeping in mind the recent riots in the capital New Delhi, it is essential to trace back and analyse this relationship in the latter half of the 20th century. This report relies on the dataset created by Varshney and Wilkinson, who collected all incidents on Hindu-Muslim Violence in India between 1950-1995 reported in the national newspaper Times of India. This report will 




```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#loading necessary libraries
library(tidyverse)
library(dplyr)
library(ggplot2)
library(here)


# set default theme
theme_set(theme_minimal())
```

## Importing the data files

```{r import data}
#Importing the first dataset
hindu_muslim_data <- here("data", "hindu_muslim_violence.csv") %>%
  read_csv()

#Importing the second dataset and parsing column types
yearly_pop_pm_data <- here("data", "yearly_pop_pm.csv") %>%
  read_csv( col_types = 
              cols(
                hindu_prop = col_double(),
                muslim_prop = col_double()
          
              ))
```

## Data Wrangling

``` {r wrangling}
#Joining the 2 datasets using left join
hindu_muslim_complete_data <- left_join(
                                x = hindu_muslim_data, 
                                y = yearly_pop_pm_data
                                      )

```

## Exploring Data

### **Analysis 1**: First, I want to see how many hindu-muslim violence incidents were reported each year from 1950-1995

```{r count yearly incidents}

hindu_muslim_complete_data %>%
  #grouping by year to count incidents per year
  group_by(YEAR) %>%
  summarise( 
    count = n()
    ) %>%
  #plotting the line chart
  ggplot(mapping = aes(x = YEAR, y = count)) +
  geom_line() +
  #labelling the graph
  labs(
    title = "Number of Hindu-Muslim violence incidents from 1950-1995" ,
    x = "Year",
    y = "Number of incidents",
    caption = "Source: Varshney, Wilkinson dataset"
  ) 



```

### **Observation 1**: From the above graph, we can pbserve that yearly violent events are un-related and can be extremely high in one year, and low in the next. However, there was a peak in violent events in 1985 and 1990, which can be explained by the communal riots in that period. Moreover, in noticing a general trend, there has been a rise in violent events over the years. 

### **Analysis 2**: Now, I want to see the number of violent events aggregated by month. This is to observe if any month would have an unusual trend due to seasonal or festivities causes.

```{r monthy count incidents}

hindu_muslim_complete_data %>%
  ggplot( mapping = aes(x = MONTH_BY_N)) +
  geom_bar() +
  scale_x_discrete(limits = month.abb ) +
   labs(
    title = "Monthly number of Hindu-Muslim violence incidents from 1950-1995" ,
    x = "Month",
    y = "Number of incidents",
    caption = "Source: Varshney, Wilkinson dataset"
  )


```

### **Observation 2**: March has the highest number of violence incidents in the entire year. However, it is closely followed by October and September.

### **Analysis 3**: In this analysis, I want to observe the state-wise number of Hindu-Muslim incidents of violents

```{r state-wise}

hindu_muslim_complete_data %>%
  #filtering out NA values
  filter( !is.na(STATECODE)) %>%
  group_by(STATECODE) %>%
  summarise(
    count = n()
  ) %>%
  ggplot(mapping = aes(y = count, x = fct_reorder(STATECODE, count))) +
  geom_col() + 
  coord_flip() +
  labs(
    title = "State-wise Hindu-Muslim violence incidents from 1950-1995" ,
    y = "Number of Incidents",
    x = "State",
    caption = "Source: Varshney, Wilkinson dataset"
  )

```

### **Observation 3**: The state of GU ie Gujarat has the highest number of incidents of Hindu-Muslim violence. MA (Maharashtra) and UP (Uttar Pradesh) also have extremely high number of incidents

### **Note regarding Analysis 3**: In constructing this analysis, I noticed the fallacies in coding the data by the authors. Initially, I had tried to use STATE to get full state-names, but some states were written with different spellings or had another tiny differences which lead to similiar states being printed multiple times. However, the use of STATECODE resolved this error.

### **Analysis 4**: In this analysis, I want to focus on the top 3 states observed above i.e. Gujarat, Maharashtra and Uttar Pradesh. Specifically I want to see the distribution of the number of people killed in an incident for the number of incidents.

```{r top-3 distribution }

#To modify facet label text later
state.labs <- c("Gujarat", "Maharashtra", "Uttar Pradesh")
names(state.labs) <- c("GU", "MA", "UP")

hindu_muslim_complete_data %>%
  filter(STATECODE == c("GU","MA","UP")) %>%
  ggplot(mapping = aes(x = KILLED)) +
  geom_histogram() +
  #Modifying the label text of the facets by replacing state code with state name
  facet_wrap( ~STATECODE, scales = "free", ncol = 1, labeller = labeller(STATECODE = state.labs)) +
  labs(
    title = "Hindu-Muslim violence incidents in top-3 states from 1950-1995" ,
    y = "Number of Incidents",
    x = "Number of people killed",
    caption = "Source: Varshney, Wilkinson dataset"
  )
  

```

### **Observation 4**: Even though Gujarat has the highest number of violence incidents, it does not have the highest number of killed people. Maharashtra has the largest variance due to having the maximum in the number of killed exceeding 400 people. This is followed by Uttar Pradesh and then Gujarat.

### **Analysis 5**: This analysis aims to see the effect of duration of a violent incident on the number of deaths

```{r duration effect}
 hindu_muslim_complete_data %>%
  group_by(DURATION_I) %>%
  #Calculating the mean number of people killed and arrested for an incident with mean duration in days
  summarise(
    duration = mean(DURATION_I, na.rm = TRUE),
    killed = mean(KILLED, na.rm = TRUE),
    arrested = mean(ARRESTS, na.rm = TRUE)
  ) %>% 
  #removing the values which were calculated as NaN
  filter( !is.nan(killed)) %>%
  filter( !is.nan(arrested)) %>%
  #layering both line graphs to depict killed and arrested 
  ggplot(mapping = aes(x = duration)) + 
  geom_line(mapping = aes(y = killed, color = "Killed")) +
  geom_line(mapping = aes(y = arrested, color = "Arrested")) +
  #labelling the graph
  labs(
    title = "Hindu-Muslim violence incidents from 1950-1995" ,
    x = "Duration of Incident (days)",
    y = "Number of people killed/arrested",
    caption = "Source: Varshney, Wilkinson dataset",
    color = NULL
  ) +
  #moving the legend to the bottom
  theme(legend.position = "bottom")

```

### **Observation 5**: There does not seem to be any direct relationship between the duration of the incident and the corresponding number of deaths or arrests. However, a peak in both arrests and killed people is observed when the duration of the incident is between 7-10 days.

### **Analysis 6**: This analysis aims to find if reports of Dalit vs Muslims violence during the riot led to higher arrests

#### **Note**: Dalits (meaning "broken/scattered" in Sanskrit), is a term used for those aboriginal ethnic groups who have been subjected to untouchability.

```{r Dalits and arrests}



```

### **Observation 6**: 

### **Analysis 7**: hindu muslim pop prop

```{r}

```

### **Observation 7**: 

### **Analysis 8**: pm and incidents

```{r}

```

### **Observation 8**: 

link mde

## Observations

## Conclusion

